<button (click)="polyscale.beginElement()">Play</button>
<button (click)="showPath()">Stop</button>
<svg viewBox="0 0 200 200">
  <ng-container *ngIf="activeScore">
    <text x="20"
          y="10">{{activeScore.label}}</text>
    <text x="150"
          y="10"> Score: {{activeScore.score}}/10</text>
  </ng-container>

  <g transform="translate(100,100) scale(.8)">
    <circle id="surrounding-circle"
            *ngIf="showOuterCircle"
            r="100"
            [attr.stroke]="outerCircleColor"
            opacity="0.5"
            stroke-width="1"
            fill="none" />

    <defs>
      <polygon id="wrapper-polygon"
               [attr.points]="wrapperPolygon"
               [style.opacity]=".1"
               [style.stroke]="maxScorePolygonColor" />
    </defs>

    <polygon [attr.points]="wrapperPolygon"
             [style.opacity]="1"
             [style.fill]="maxScorePolygonColor" />

    <ng-container *ngIf="showPercentPolygons">
      <use href="#wrapper-polygon"
           *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]"
           [style.transform]="getScaledPolygon(i)">
      </use>
    </ng-container>

    <ng-container *ngIf="compareScores.length">
      <polygon id="compare-polygon"
               [attr.points]="getComparePolygon()"
               [style.fill]="comparePolygonColor"
               style="opacity:1" />
    </ng-container>

    <path id="score-polygon"
          [attr.d]="getPolygonFromScores()"
          fill="#070707"
          fill-rule="nonzero"
          style="opacity:.4">

      <animate #polyscale
               dur="10s"
               fill="freeze"
               repeatCount="indefinite"
               attributeName="d"
               [attr.values]="frameSequence"
               calcMode=”spline”
               keySplines="0.4 0 0.2 1">
      </animate>



      <!--       <animateTransform #polyscale
                        id="polyscale"
                        attributeName="transform"
                        type="scale"
                        begin="0s"
                        from="0"
                        to="1"
                        dur="0.5s" /> -->
    </path>

    <ng-container *ngFor="let point of vortexPoints; let i=index">
      <defs *ngIf="showIcons">
        <pattern [id]="'pattern-'+i"
                 transform="rotate(65deg)"
                 width="16"
                 height="16">
          <image [attr.href]="scores[i].markerImage"
                 preserveAspectRatio="none"
                 width="16"
                 height="16" />
        </pattern>
      </defs>

      <polyline class="core-lines"
                [attr.points]="getLine(i, point)"
                [style.stroke]="innerLinesColor"
                style="opacity:.15">
      </polyline>

      <circle *ngIf="showIcons"
              class="edge-marker"
              [attr.fill]="getMarkerPattern(i)"
              r="8"
              [attr.cx]="point.x"
              [attr.cy]="point.y"
              [attr.stroke]="iconCircleColor"
              (click)="showScoreTooltip(i)"
              (mouseover)="showScoreTooltip(i)">
      </circle>

      <text *ngIf="showText"
            [attr.x]="point.x"
            transform="translate(-12, -10)"
            [attr.y]="point.y"
            (mouseover)="showScoreTooltip(i)"
            (click)="showScoreTooltip(i)">
        {{scores[i].label}}
      </text>
    </ng-container>
  </g>

  <g>
    <!--     <circle cx="100"
            cy="100"
            r="20"
            fill="red">
      <animate begin="0s"
               dur="10s"
               fill="freeze"
               repeatCount="indefinite"
               attributeName="fill"
               values="transparent; red; transparent; red"
               calcMode=”spline”
               keySplines="0.4 0 0.2 1">
      </animate>
    </circle> -->


    <!-- Testing line de tiempo -->
    <line x1="0"
          [attr.x2]="eventScores.length * 100"
          y1="190"
          y2="190"
          stroke="red">
    </line>
    <text x="100"
          y="195"
          style="text-anchor: middle">Hello

      <!--           <animate #polyscale
          dur="10s"
          fill="freeze"
          repeatCount="indefinite"
          attributeName="d"
          [attr.values]="frameSequence"
          calcMode=”spline”
          keySplines="0.4 0 0.2 1">
 </animate> -->

      <!--       <animateTransform dur="1s"
                        begin="0s"
                        fill="freeze"
                        repeatCount="indefinite"
                        attributeName="transform"
                        type="rotate"
                        values="0 100 195; 90 100 195; -90 100 195"
                        calcMode=”spline”
                        keySplines="0.4 0 0.2 1">
      </animateTransform> -->
      <!--
      <animateTransform attributeName="transform"
                        type="rotate"
                        from="0 100 100"
                        to="360 100 100"
                        begin="0s"
                        dur="10s"
                        repeatCount="indefinite" /> -->
    </text>
    <text x="200"
          y="195"
          style="text-anchor: middle">there</text>
    <text x="300"
          y="195"
          style="text-anchor: middle">i go

    </text>
  </g>
</svg>
